# Joerger VSC8 with additional records for dark current subtraction

grecord(bo,"$(P)$(S)_calcEnable") {
	field(DTYP,"Soft Channel")
	field(ZNAM,"ENABLE")
	field(ONAM,"DISABLE")
}
grecord(bo,"$(P)$(S)_calc_ctrl") {
	field(DTYP,"Soft Channel")
	field(FLNK,"$(P)$(S)_cts1.PROC  PP MS")
	field(ZNAM,"Counts")
	field(ONAM,"Cts/sec")
}
grecord(calc,"$(P)$(S)_calc1") {
	field(FLNK,"$(P)$(S)_calc2.PROC  PP MS")
	field(CALC,"A")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_calc2") {
	field(FLNK,"$(P)$(S)_calc3.PROC  PP MS")
	field(CALC,"b")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_calc3") {
	field(FLNK,"$(P)$(S)_calc4.VAL  PP MS")
	field(CALC,"C")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_calc4") {
	field(FLNK,"$(P)$(S)_calc5.VAL  PP MS")
	field(CALC,"D")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_calc5") {
	field(FLNK,"$(P)$(S)_calc6.VAL  PP MS")
	field(CALC,"E")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_calc6") {
	field(FLNK,"$(P)$(S)_calc7.VAL  PP MS")
	field(CALC,"F")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_calc7") {
	field(FLNK,"$(P)$(S)_calc8.VAL  PP MS")
	field(CALC,"G")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_calc8") {
	field(CALC,"H")
	field(INPA,"$(P)$(S).S1  NPP NMS")
	field(INPB,"$(P)$(S).S2  NPP NMS")
	field(INPC,"$(P)$(S).S3  NPP NMS")
	field(INPD,"$(P)$(S).S4  NPP NMS")
	field(INPE,"$(P)$(S).S5  NPP NMS")
	field(INPF,"$(P)$(S).S6  NPP NMS")
	field(INPG,"$(P)$(S).S7  NPP NMS")
	field(INPH,"$(P)$(S).S8  NPP NMS")
	field(INPI,"$(P)$(S).T  NPP NMS")
	field(PREC,"3")
}
grecord(scaler,"$(P)$(S)") {
	field(DTYP,"$(DTYP)")
	field(PRIO,"HIGH")
        field(FLNK,"$(P)$(S)_fan0.PROC  PP MS")
	field(FREQ,$(FREQ))
	field(OUT,"#C$(C) S0 @")
	field(PREC,"3")
}
grecord(fanout,"$(P)$(S)_fan0") {
	field(LNK1,"$(P)$(S)_fan1.PROC  PP MS")
	field(LNK2,"$(P)$(S)_cts1.PROC  PP MS")
}
grecord(fanout,"$(P)$(S)_fan1") {
	field(LNK1,"$(P)$(S)_SD2.VAL  PP MS")
	field(LNK2,"$(P)$(S)_SD3.VAL  PP MS")
	field(LNK3,"$(P)$(S)_SD4.VAL  PP MS")
	field(LNK4,"$(P)$(S)_SD5.VAL  PP MS")
	field(LNK5,"$(P)$(S)_SD6.VAL  PP MS")
	field(LNK6,"$(P)$(S)_SD7.VAL  PP MS")
}
grecord(ao,"$(P)$(S)_Dark2") {
	field(FLNK,"$(P)$(S)_SD2.VAL  PP MS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_SD2") {
	field(CALC,"A-B*C")
	field(INPA,"$(P)$(S).S2  NPP MS")
	field(INPB,"$(P)$(S)_Dark2.VAL  NPP MS")
	field(INPC,"$(P)$(S).T  NPP MS")
	field(PREC,"3")
}
grecord(ao,"$(P)$(S)_Dark3") {
	field(FLNK,"$(P)$(S)_SD3.VAL  PP MS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_SD3") {
	field(CALC,"A-B*C")
	field(INPA,"$(P)$(S).S3  NPP MS")
	field(INPB,"$(P)$(S)_Dark3.VAL  NPP MS")
	field(INPC,"$(P)$(S).T  NPP MS")
	field(PREC,"3")
}
grecord(ao,"$(P)$(S)_Dark4") {
	field(FLNK,"$(P)$(S)_SD4.VAL  PP MS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_SD4") {
	field(CALC,"A-B*C")
	field(INPA,"$(P)$(S).S4  NPP MS")
	field(INPB,"$(P)$(S)_Dark4.VAL  NPP MS")
	field(INPC,"$(P)$(S).T  NPP MS")
	field(PREC,"3")
}
grecord(ao,"$(P)$(S)_Dark5") {
	field(FLNK,"$(P)$(S)_SD5.VAL  PP MS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_SD5") {
	field(CALC,"A-B*C")
	field(INPA,"$(P)$(S).S5  NPP MS")
	field(INPB,"$(P)$(S)_Dark5.VAL  NPP MS")
	field(INPC,"$(P)$(S).T  NPP MS")
	field(PREC,"3")
}
grecord(ao,"$(P)$(S)_Dark6") {
	field(FLNK,"$(P)$(S)_SD6.VAL  PP MS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_SD6") {
	field(CALC,"A-B*C")
	field(INPA,"$(P)$(S).S6  NPP MS")
	field(INPB,"$(P)$(S)_Dark6.VAL  NPP MS")
	field(INPC,"$(P)$(S).T  NPP MS")
	field(PREC,"3")
}
grecord(ao,"$(P)$(S)_Dark7") {
	field(FLNK,"$(P)$(S)_SD7.VAL  PP MS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_SD7") {
	field(CALC,"A-B*C")
	field(INPA,"$(P)$(S).S7  NPP MS")
	field(INPB,"$(P)$(S)_Dark7.VAL  NPP MS")
	field(INPC,"$(P)$(S).T  NPP MS")
	field(PREC,"3")
}
grecord(ao,"$(P)$(S)_Dark8") {
	field(FLNK,"$(P)$(S)_SD8.VAL  PP MS")
	field(PREC,"3")
}
grecord(calc,"$(P)$(S)_SD8") {
	field(CALC,"A-B*C")
	field(INPA,"$(P)$(S).S8  NPP MS")
	field(INPB,"$(P)$(S)_Dark8.VAL  NPP MS")
	field(INPC,"$(P)$(S).T  NPP MS")
	field(PREC,"3")
}
grecord(transform,"$(P)$(S)_cts1") {
	field(SDIS,"$(P)$(S)_calcEnable.VAL  NPP NMS")
	field(FLNK,"$(P)$(S)_cts2.PROC  PP MS")
	field(CLCA,"e?g/MAX(f,0.000001):g")
	field(CLCB,"e?h/MAX(f,0.000001):h")
	field(CLCC,"e?i/MAX(f,0.000001):i")
	field(CLCD,"e?j/MAX(f,0.000001):j")
	field(INPE,"$(P)$(S)_calc_ctrl.VAL  NPP NMS")
	field(INPF,"$(P)$(S).T  NPP NMS")
	field(INPG,"$(P)$(S).S1  NPP NMS")
	field(INPH,"$(P)$(S).S2  NPP NMS")
	field(INPI,"$(P)$(S).S3  NPP NMS")
	field(INPJ,"$(P)$(S).S4  NPP NMS")
	field(PREC,"3")
}
grecord(transform,"$(P)$(S)_cts2") {
	field(FLNK,"$(P)$(S)_calc1.PROC  PP MS")
	field(CLCA,"e?g/MAX(f,0.000001):g")
	field(CLCB,"e?h/MAX(f,0.000001):h")
	field(CLCC,"e?i/MAX(f,0.000001):i")
	field(CLCD,"e?j/MAX(f,0.000001):j")
	field(INPE,"$(P)$(S)_calc_ctrl.VAL  NPP NMS")
	field(INPF,"$(P)$(S).T  NPP NMS")
	field(INPG,"$(P)$(S).S5  NPP NMS")
	field(INPH,"$(P)$(S).S6  NPP NMS")
	field(INPI,"$(P)$(S).S7  NPP NMS")
	field(INPJ,"$(P)$(S).S8  NPP NMS")
	field(PREC,"3")
}
